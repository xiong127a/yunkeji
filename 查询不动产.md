

## 调用须知！

> 正式环境地址：http://8.137.70.50:81/

#### 公共参数
```test
以下字段需要再请求体中固定传
"accessKey": "accessKey",
"signature":"f9ddccea715949e9c72f34bc84e4cddbf655f1c40e1c054866a69692252d5e72",
"requestNo":"UUID",
"timestamp":"1658372908273"

签名算法：sha256
sign：sha256(参数排序+secretKey)
说明：参数按字母顺序排序，排完序为json格式；第二层参数也需要排序，如果第二层是对象数组，则数组里面的对象也需要排序。accessKey需要参与签名
测试环境secretKey:
测试环境accessKey:
```
#### 签名sha256依赖：
```
<!--hutool-->
<dependency>
    <groupId>cn.hutool</groupId>
    <artifactId>hutool-all</artifactId>
    <version>5.3.8</version>
</dependency>
```
签名工具类下载：[ApiSignUtil.java](https://dhtech-assets.oss-cn-beijing.aliyuncs.com/openApi/ApiSignUtil.java)
```java
String signature = ApiSignUtil.sign(req, secretKey);
```
#### 返回格式

```json
{
    "success":true,
    "fail":false,
    "message":"成功",
    "code":200,     //非200为异常
    "result":null,  //详见各接口响应体
    "timestamp":1658373656645
}
```



## 1.请求查询不动产信息接口

```text
请求查询不动产信息接口
```

#### 接口URL
> POST：/api/open/applyRealProperty

#### 请求体

| 参数名 | 类型	 | 必填	 | 描述 |
| --- | --- | --- | --- |
| name                         | String | Y    | 被查人姓名                                                   |
| idCard                       | String | Y    | 被查询人身份证                                               |
| callBackUrl                  | String | N    | 回调地址                                                     |
| files                        | List   | N    | 文件集合                                                     |
| &nbsp;&nbsp;&nbsp;type       | String | Y    | 文件类型<br/>frontIdCard 身份证正面<br/>backIdCard 身份证反面<br/>AUTHORIZATION 授权书<br/>caseDocuments 案件文件<br/>caseAgency 案件代理合同 |
| &nbsp;&nbsp;&nbsp;fileName   | String | Y    | 文件名                                                     |
| &nbsp;&nbsp;&nbsp;fileBase64 | String | Y    | 文件base64                                                   |



#### 例

```json

```



#### 返回参数

| 参数名    | 类型   | 描述                             |
| --------- | ------ | -------------------------------- |
| requestNo | String | 传入的请求编号，后续用于查询接口 |



##### 响应

```json
{
    "success": true,
    "fail": false,
    "message": "操作成功！",
    "code": 200,
    "result": "2c841c06d27b00764dfe194301d63cf1",
    "timestamp": 1724312598972
}
```



## 2.不动产结果查询接口

```text
不动产结果查询接口
```

#### 接口URL

> POST：/api/open/queryRealProperty

#### 请求体

| 参数名 | 类型   | 必填 | 描述                |
| ------ | ------ | ---- | ------------------- |
| reqNo  | String | Y    | 申请接口的requestNo |

#### 例

```
{
    "signature": "cc2839e3db73a2602188c117b7df17a231a119e5fb1d3c71690099bbdb463f7b",
    "reqNo": "348268c2cb784109a2b60630aa519081",
    "requestNo": "6a32f174246b46ee9bd8fe6004e2920e",
    "companyId": "4b48ef*******882a83",
    "accessKey": "4b48ef*******882a83",
    "timestamp": "1724312912954"
}
```

#### 返回参数

| 参数名         | 类型   | 描述                                                         |
| -------------- | ------ | ------------------------------------------------------------ |
| reqNo          | String | /v1/vast-hsInfo/pre接口的requestNo                           |
| approvalStatus | String | 审批状态：<br>IN_APPROVAL：待审核<br>UN_APPROVED：审核不通过<br>APPROVED：审核通过 |
| rejectReason   | String | 审核不通过原因                                               |
| authResults    | List   | 查询结果集                                                   |

##### authResults参数解析

| 参数名        | 类型   | 描述                                                       |
| ------------- | ------ | ---------------------------------------------------------- |
| isReAuth      | String | 是否重新核查                                               |
| authState     | String | 审批状态： 10：审核中 20：核查中 30：核查成功 40: 核查异常 |
| cardNum       | String | 当事人身份证                                               |
| authStateDesc | String | 状态说明                                                   |
| resultList    | List   | 查询结果                                                   |



##### resultList参数解析

| 参数名          | 类型   | 描述             |
| --------------- | ------ | ---------------- |
| certNo          | String | 不动产权证号     |
| unitNo          | String | 不动产单元号     |
| rightsType      | String | 产权类型         |
| useTo           | String | 用途             |
| isSealUp        | String | 是否查封         |
| isMortgaged     | String | 是否抵押         |
| rightsStartTime | String | 使用期限起始时间 |
| ownership       | String | 共有情况         |
| rightsEndTime   | String | 使用期限结束时间 |
| houseArea       | String | 面积             |
| location        | String | 坐落             |

#### 响应

```
{
    "success": true,
    "fail": false,
    "message": "操作成功！",
    "code": 200,
    "result": {
        "approvalStatus": "APPROVED",
        "reqOrderNo": "08a7e05e460946c9a65249d4d910e876",
        "authResults": [
            {
                "isReAuth": 0,
                "authState": "30",
                "cardNum": "430407199706103034",
                "authStateDesc": "核查成功",
                "resultList": [
                    {
                        "unitNo": "430122007001GB00044F00010011",
                        "rightsType": "国有建设用地使用权/房屋所有权",
                        "useTo": "住宅",
                        "isSealUp": "否",
                        "isMortgaged": "是",
                        "rightsStartTime": "1949-01-01",
                        "certNo": "湘(2024)长沙市不动产权第0007198号",
                        "ownership": "单独所有",
                        "rightsEndTime": "2999-01-01",
                        "houseArea": "130.82",
                        "location": "高新区金洲大道101号天健西苑2栋601"
                    },
                    {
                        "unitNo": "430122007001GB00044F00010011",
                        "useTo": "住宅",
                        "isSealUp": "否",
                        "isMortgaged": "是",
                        "rightsStartTime": "",
                        "certNo": "湘(2023)长沙市不动产证明第0172976号",
                        "ownership": "单独所有",
                        "rightsEndTime": "",
                        "houseArea": "130.96",
                        "location": "高新区金洲大道101号天健西苑2栋601"
                    }
                ]
            }
        ]
    },
    "timestamp": 1724313068448
}
```



