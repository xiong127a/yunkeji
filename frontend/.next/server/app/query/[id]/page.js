(()=>{var e={};e.id=134,e.ids=[134],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},7488:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o});var s=t(67096),i=t(16132),n=t(37284),l=t.n(n),a=t(32564),c={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);t.d(r,c);let o=["",{children:["query",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,97790)),"D:\\workSpace\\yunkeji\\frontend\\src\\app\\query\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,69642)),"D:\\workSpace\\yunkeji\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,25666)),"D:\\workSpace\\yunkeji\\frontend\\src\\app\\not-found.tsx"]}],d=["D:\\workSpace\\yunkeji\\frontend\\src\\app\\query\\[id]\\page.tsx"],u="/query/[id]/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/query/[id]/page",pathname:"/query/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},51553:(e,r,t)=>{Promise.resolve().then(t.bind(t,67896))},67896:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>QueryDetailPage});var s=t(30784),i=t(9885),n=t(79636),l=t.n(n),a=t(94771),c=t(58263),o=t(68602),d=t(12618),u=t(24034),p=t(52349),x=t(29468),h=t(18180),j=t(72442),y=t(57114),m=t(18229),g=t(37934);let{Title:f}=p.default;function QueryDetailPage({params:e}){let[r,t]=(0,i.useState)(null),[n,p]=(0,i.useState)([]),[q,P]=(0,i.useState)(!0),Z=(0,y.useRouter)();(0,i.useEffect)(()=>{if(!(0,g.$8)()){Z.push("/login");return}fetchRecord()},[e.id]);let fetchRecord=async()=>{try{let r=await m.Z.getQueryRecordDetail(Number(e.id));t(r);let s=await m.Z.getQueryRecordFiles(Number(e.id));p(s)}catch(e){o.ZP.error("获取查询记录详情失败")}finally{P(!1)}},getFileTypeText=e=>{switch(e){case"PDF":return s.jsx(h.Z,{color:"red",children:"PDF"});case"IMAGE":return s.jsx(h.Z,{color:"purple",children:"图片"});default:return s.jsx(h.Z,{color:"gray",children:"其他"})}};return q?s.jsx("div",{className:"container",children:"加载中..."}):r?(0,s.jsxs)("div",{className:"container",children:[s.jsx(d.Z,{justify:"center",style:{marginTop:"30px"},children:s.jsx(u.Z,{span:24,children:s.jsx(a.Z,{children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(f,{level:3,style:{margin:0},children:"查询详情"}),s.jsx(j.ZP,{children:s.jsx(l(),{onClick:()=>Z.push("/dashboard"),children:"返回"})})]})})})}),s.jsx(d.Z,{justify:"center",style:{marginTop:"30px"},children:s.jsx(u.Z,{span:24,children:(0,s.jsxs)(a.Z,{children:[s.jsx(f,{level:4,children:"基本信息"}),(0,s.jsxs)(c.ZP,{bordered:!0,column:1,children:[s.jsx(c.ZP.Item,{label:"姓名",children:r.name}),s.jsx(c.ZP.Item,{label:"身份证号",children:r.idCard}),s.jsx(c.ZP.Item,{label:"状态",children:(e=>{switch(e){case"SUBMITTED":return s.jsx(h.Z,{color:"blue",children:"已提交"});case"PROCESSING":return s.jsx(h.Z,{color:"orange",children:"处理中"});case"COMPLETED":return s.jsx(h.Z,{color:"green",children:"已完成"});default:return s.jsx(h.Z,{children:e})}})(r.status)}),r.requestNo&&s.jsx(c.ZP.Item,{label:"请求编号",children:r.requestNo}),s.jsx(c.ZP.Item,{label:"创建时间",children:r.createdAt})]})]})})}),s.jsx(d.Z,{justify:"center",style:{marginTop:"30px"},children:s.jsx(u.Z,{span:24,children:(0,s.jsxs)(a.Z,{children:[s.jsx(f,{level:4,children:"相关文件"}),s.jsx(x.Z,{dataSource:n,renderItem:e=>(0,s.jsxs)(x.Z.Item,{children:[s.jsx(x.Z.Item.Meta,{title:e.fileName,description:(0,s.jsxs)(j.ZP,{children:[getFileTypeText(e.fileType),(0,s.jsxs)("span",{children:["大小: ",e.fileSize," 字节"]}),(0,s.jsxs)("span",{children:["上传时间: ",e.createdAt]})]})}),s.jsx("div",{children:s.jsx(l(),{type:"link",children:"下载"})})]})}),0===n.length&&s.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"暂无相关文件"})]})})})]}):s.jsx("div",{className:"container",children:"未找到查询记录"})}},97790:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>n,default:()=>c});var s=t(95153);let i=(0,s.createProxy)(String.raw`D:\workSpace\yunkeji\frontend\src\app\query\[id]\page.tsx`),{__esModule:n,$$typeof:l}=i,a=i.default,c=a}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[456,58,277,442,468,982,497,229],()=>__webpack_exec__(7488));module.exports=t})();